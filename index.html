<!DOCTYPE html>
<html lang="id">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>Cerita Bergambar</title>
<style>
  @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap');

  * {
    box-sizing: border-box;
  }
  body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #a8d0ff, #4a90e2);
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
  }
  .container {
    background: white;
    width: 350px;
    max-width: 350px;
    height: 580px;
    border-radius: 16px;
    box-shadow: 0 8px 20px rgba(0,0,0,0.15);
    display: flex;
    flex-direction: column;
    overflow: hidden;
  }
  .image-container {
    flex: 1 1 auto;
    overflow: hidden;
    border-top-left-radius: 16px;
    border-top-right-radius: 16px;
    position: relative;
  }
  .image-container img {
    width: 100%;
    height: 100%;
    object-fit: cover;
    display: block;
    transition: opacity 0.5s ease;
  }
  .text-container {
    padding: 16px 20px;
    background: #f0f7ff;
    flex-shrink: 0;
    font-size: 16px;
    color: #222;
    min-height: 100px;
    display: flex;
    align-items: center;
    font-weight: 500;
    line-height: 1.4;
  }
  .button-container {
    padding: 12px 20px;
    background: white;
    border-top: 1px solid #ddd;
    display: flex;
    justify-content: flex-end;
  }
  button {
    background: #2b78f6;
    color: white;
    border: none;
    border-radius: 8px;
    padding: 12px 24px;
    font-weight: 600;
    font-size: 16px;
    cursor: pointer;
    user-select: none;
    transition: background 0.3s ease;
    box-shadow: 0 4px 8px rgba(43, 120, 246, 0.5);
    outline-offset: 4px;
  }
  button:active {
    background: #1a5ad6;
  }
  button:disabled {
    background: #aaa;
    cursor: not-allowed;
    box-shadow: none;
  }
  @media (max-width: 375px) {
    .container {
      width: 100vw;
      height: 100vh;
      border-radius: 0;
      max-width: 100vw;
      max-height: 100vh;
    }
    .text-container {
      font-size: 14px;
      padding: 12px 16px;
      min-height: 90px;
    }
    button {
      padding: 10px 16px;
      font-size: 14px;
    }
  }
  .full-screen {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
    background: white;
    padding: 20px;
    overflow: auto;
    text-align: center;
  }
</style>
</head>
<body>
  <main class="container" role="main" aria-live="polite">
    <audio id="background-music" src="HAI.mp3" autoplay loop></audio>
    <div id="welcome-container">
      <div class="text-container" id="welcome-text">
        Halo Tasya! Siap untuk membaca cerita?
      </div>
      <div class="button-container">
        <button id="ready-btn">Siap</button>
      </div>
    </div>
    <div id="play-container" style="display: none;">
      <div class="text-container">
        Tapi sebelum itu, pencet play dulu ya, kalo udah klik lanjut.
      </div>
      <div class="button-container">
        <button id="play-music-btn">Play Music</button>
        <button id="next-btn">Lanjut</button>
      </div>
    </div>
    <div id="reading-container" style="display: none;">
      <div class="text-container">
        Okei, selamat membaca!
      </div>
      <div class="button-container">
        <button id="start-reading-btn">Lanjut</button>
      </div>
    </div>
    <div class="image-container" style="display: none;">
      <img id="story-image" src="" alt="Gambar cerita" />
    </div>
    <div class="button-container" id="next-button-container" style="display: none;">
      <button id="back-btn">Kembali</button>
      <button id="next-story-btn">Next</button>
    </div>
    <div class="full-screen" id="words-container" style="display: none;">
      <h2>last word</h2>
      <p>terima kasih ya sudah selalu menjadi teman baik aku</p>
    </div>
  </main>
  <script>
    const storySegments = [
      {
        text: "Pada tanggal 12 November 2006 lahirnya seorang anak perempuan yang lucu yang diberi nama Natasya",
        image: "https://assets.onecompiler.app/43gn9endh/43gn8mge6/2-Faren%20Alifa%20Fitrio%20Nandra-1-rule%20of%20third-1.jpg"
      },
      {
        text: "cccccccccccccccccc.",
        image: "https://assets.onecompiler.app/43gn9endh/43gn8mge6/2-Faren%20Alifa%20Fitrio%20Nandra-4-kontras-2.JPG"
      },
      {
        text: "bbbbbbbbbbbb.",
        image: "https://assets.onecompiler.app/43gn9endh/43gn8mge6/2-Faren%20Alifa%20Fitrio%20Nandra-10-refleksi-2.jpg"
      },
      {
        text: "aaaaaaaaaaa.",
        image: "https://assets.onecompiler.app/43gn9endh/43gn8mge6/2-Faren%20Alifa%20Fitrio%20Nandra-3-kontras-1.jpg"
      },
      {
        text: "blablabla",
        image: "https://assets.onecompiler.app/43gn9endh/43gn8mge6/2-Faren%20Alifa%20Fitrio%20Nandra-1-rule%20of%20third-1.jpg"
      }
    ];

    let currentIndex = 0;
    const readyButton = document.getElementById('ready-btn');
    const playButton = document.getElementById('play-music-btn');
    const nextButton = document.getElementById('next-btn');
    const startReadingButton = document.getElementById('start-reading-btn');
    const backButton = document.getElementById('back-btn');
    const welcomeContainer = document.getElementById('welcome-container');
    const playContainer = document.getElementById('play-container');
    const readingContainer = document.getElementById('reading-container');
    const imageContainer = document.querySelector('.image-container');
    const nextButtonContainer = document.getElementById('next-button-container');
    const wordsContainer = document.getElementById('words-container');
    const backgroundMusic = document.getElementById('background-music');

    readyButton.addEventListener('click', () => {
      welcomeContainer.style.display = 'none';
      playContainer.style.display = 'block';
    });

    playButton.addEventListener('click', () => {
      if (backgroundMusic.paused) {
        backgroundMusic.play();
        playButton.textContent = 'Pause Music';
      } else {
        backgroundMusic.pause();
        playButton.textContent = 'Play Music';
      }
    });

    nextButton.addEventListener('click', () => {
      playContainer.style.display = 'none';
      readingContainer.style.display = 'block';
    });

    startReadingButton.addEventListener('click', () => {
      readingContainer.style.display = 'none';
      imageContainer.style.display = 'block';
      nextButtonContainer.style.display = 'block';
      currentIndex = 0; // Reset index to start from the first story segment
      updateStory();
    });

    backButton.addEventListener('click', () => {
      if (currentIndex > 0) {
        currentIndex--; // Mundur satu gambar
        updateStory();
      }
    });

    function updateStory() {
      const segment = storySegments[currentIndex];
      document.getElementById('story-image').src = segment.image;

      // Menyembunyikan tombol "Kembali" jika berada di gambar pertama
      backButton.style.display = currentIndex === 0 ? 'none' : 'inline-block';

      if (currentIndex === storySegments.length - 1) {
        nextButtonContainer.style.display = 'block'; // Show next button on last segment
      } else {
        nextButtonContainer.style.display = 'block'; // Show next button on other segments
      }
    }

    document.getElementById('next-story-btn').addEventListener('click', () => {
      if (currentIndex < storySegments.length - 1) {
        currentIndex++;
        updateStory();
      } else {
        // Menampilkan kata-kata setelah cerita selesai
        imageContainer.style.display = 'none';
        nextButtonContainer.style.display = 'none'; // Hide next button
        wordsContainer.style.display = 'block'; // Show words container
      }
    });
  </script>
</body>
</html>
